InnoDB表空间



独立表空间

每个表假设有一个聚簇索引一个二级索引，且叶子节点和非叶子节点是不同的区，

区

64个页分组为一个区，256个区分组为一个组

段

当存储记录的页越来越多，双向链表的特性也不能让它很快的找到目标页的物理位置，因为随机I/O受到磁盘和内存的速度，

这个表`t`共有两个索引，一个聚簇索引，一个二级索引`idx_c2`，所以这个表共有4个段，每个段都会维护上述3个链表，总共是12个链表，加上我们上边说过的直属于表空间的3个链表，整个独立表空间共需要维护15个链表。所以段在数据量比较大时插入数据的话，会先获取`NOT_FULL`链表的头节点，直接把数据插入这个头节点对应的区中即可，如果该区的空间已经被用完，就把该节点移到`FULL`链表中。

![1560478753668](E:\other\blog-file\doing\MySQL\IMG\独立表空间.jpg)

（此图为独立表空间中区/页/段结构）



系统表空间

整个MySQL进程只有一个系统表空间，它的表空间id 是0 



InnoDB数据字典

