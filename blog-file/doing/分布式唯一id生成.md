分布式唯一id生成

#### 基本需求

1. 全局唯一：保证唯一性一般是依赖锁来实现数据安全，但锁会带来性能下降问题，所以可利用时间的有序性。
2. 粗略有序：因锁带来的性能问题，可通过选择以秒级或毫秒级有序保证有序 todo
3. 可反解：可通过观察id知道它的产生时间或由来以帮助线上排查，如时间戳
4. 可制造：若生成id的系统宕机，可通过人为制造相应时间的id；若使用数据库自增字段，id会被后来的业务覆盖，当出现问题不可得知产生问题的时间
5. 高性能：网络io/CPU性能
6. 高可用：容错方案
7. 可伸缩：能否满足业务的增长速度

#### 方式

1. ##### uuid

   ​	优点：

   ​	缺点：生成无序

2. ##### 数据库自增字段/sequence

   ​	优点：

   ​	缺点：强依赖数据库类型

3. ##### snowflake

4. ##### 自实现

   1. 可分为嵌入式调用：作为内嵌客户端，单语言
   2. 中心化调用：可配置集群多消费端rpc调用，单语言
   3. rest发布式调用：多语言